<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test avec votre App</title>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <!-- VOICI LA LIGNE MAGIQUE -->
    <script src="auto-detect-devtools.js"></script>
    
    <style>
        body { font-family: Arial, sans-serif; padding: 20px; background: #f0f2f5; }
        .container { max-width: 600px; margin: 0 auto; background: white; padding: 30px; border-radius: 10px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); }
        button { background: #1976d2; color: white; border: none; padding: 12px 20px; border-radius: 6px; cursor: pointer; margin: 5px; font-size: 16px; }
        button:hover { background: #1565c0; }
        .counter { font-size: 48px; text-align: center; color: #1976d2; margin: 20px 0; font-weight: bold; }
        input { padding: 10px; border: 1px solid #ddd; border-radius: 6px; font-size: 16px; margin: 5px; width: 200px; }
        .info { background: #e3f2fd; padding: 15px; border-radius: 8px; margin: 20px 0; border-left: 4px solid #2196f3; }
    </style>
</head>
<body>
    <div class="container">
        <h1>üîç Test avec VOTRE App</h1>
        
        <div class="info">
            <strong>üéØ Ceci simule VOTRE app existante</strong>
            <p>Le script <code>auto-detect-devtools.js</code> va automatiquement d√©tecter les √©tats !</p>
            <p><strong>Appuyez sur Ctrl+`</strong> pour voir le panel DevTools</p>
        </div>
        
        <div id="root"></div>
    </div>

    <script type="text/babel">
        const { useState, useContext, createContext } = React;

        // VOTRE APP EXISTANTE (simulation)
        const StateContext = createContext();

        function StateProvider({ children }) {
            const [state, setState] = useState({});
            return React.createElement(StateContext.Provider, 
                { value: { state, setState } }, 
                children
            );
        }

        function useFusionState(key, defaultValue) {
            const { state, setState } = useContext(StateContext);
            const value = state[key] !== undefined ? state[key] : defaultValue;
            
            const setValue = (newValue) => {
                setState(prev => {
                    const next = { ...prev, [key]: newValue };
                    // CES LOGS SERONT DETECT√âS !
                    console.log('State updated:', key, '=', newValue);
                    return next;
                });
            };
            
            return [value, setValue];
        }

        // VOTRE COMPOSANTS EXISTANTS
        function YourExistingApp() {
            const [counter, setCounter] = useFusionState('counter', 0);
            const [username, setUsername] = useFusionState('username', '');
            const [settings, setSettings] = useFusionState('settings', { theme: 'light', lang: 'fr' });

            return React.createElement('div', null, [
                React.createElement('h2', { key: 'title' }, 'üöÄ Votre App Existante'),
                
                React.createElement('div', { key: 'counter' }, [
                    React.createElement('div', { key: 'value', className: 'counter' }, counter),
                    React.createElement('button', {
                        key: 'inc',
                        onClick: () => setCounter(counter + 1)
                    }, '‚ûï Increment'),
                    React.createElement('button', {
                        key: 'reset',
                        onClick: () => setCounter(0)
                    }, 'üîÑ Reset')
                ]),
                
                React.createElement('div', { key: 'user' }, [
                    React.createElement('h3', { key: 'title' }, 'üë§ User'),
                    React.createElement('input', {
                        key: 'input',
                        type: 'text',
                        value: username,
                        onChange: (e) => setUsername(e.target.value),
                        placeholder: 'Your name...'
                    }),
                    username && React.createElement('p', { key: 'greeting' }, `Hello ${username}! üëã`)
                ]),
                
                React.createElement('div', { key: 'settings' }, [
                    React.createElement('h3', { key: 'title' }, '‚öôÔ∏è Settings'),
                    React.createElement('button', {
                        key: 'theme',
                        onClick: () => setSettings(prev => ({ 
                            ...prev, 
                            theme: prev.theme === 'light' ? 'dark' : 'light' 
                        }))
                    }, `Theme: ${settings.theme}`),
                    React.createElement('button', {
                        key: 'lang',
                        onClick: () => setSettings(prev => ({ 
                            ...prev, 
                            lang: prev.lang === 'fr' ? 'en' : 'fr' 
                        }))
                    }, `Lang: ${settings.lang}`)
                ])
            ]);
        }

        // RENDER VOTRE APP
        function App() {
            return React.createElement(StateProvider, null,
                React.createElement(YourExistingApp)
            );
        }

        ReactDOM.render(React.createElement(App), document.getElementById('root'));
        
        console.log('üéâ Votre app est d√©marr√©e !');
        console.log('üîç Le script auto-detect va surveiller les changements...');
    </script>
</body>
</html>
